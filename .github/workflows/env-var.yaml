name: environment
on: [ workflow_dispatch ]

env:
    WF_LEVEL_ENV:'Available to all jobs level''
jobs: 
  env-var-and-context:
    runs-on: ubuntu-latest
    # if: ${{github.ref == 'refs/heads/main'}}
    if: github.ref == 'refs/heads/main'
    env:
      WF_LEVEL_ENV:'Available to all stepsin env-var-and-context job'
    steps: 
        - name: Log environment
          run: echo $GITHUB_REF
        - name: Log context
          run: echo '${{ github.ref}}'
        - name: log Custum vars
          env:
            STEP_LEVEL_ENV:'Available to only this step'
            WF_LEVEL_ENV:'Override in step level'
        run: 
          echo ${{ env.STEP_LEVEL_ENV}}
          echo $STEP_LEVEL_ENV
          echo $WF_LEVEL_ENV
